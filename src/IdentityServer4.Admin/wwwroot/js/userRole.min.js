$(function(){function n(n){let t="/api/user/"+app.getPathPart(window.location.href,1)+"/role";app.get(t,function(t){n.$data.els=t.data});app.get("/api/role?page=1&size=1000",function(t){n.$data.roles=t.data.result;$(".select2").val(n.$data.roles[0].id)})}new Vue({el:"#view",data:{activeMenu:"用户管理",menus:menus,module:"用户角色",moduleDescription:"",breadcrumb:[{name:"用户管理",href:"/user"},{name:"角色",href:"#"}],els:[],roles:[]},created:function(){n(this)},methods:{remove:function(t){let i=this;swal({title:"确定要删除此角色吗?",type:"warning",showCancelButton:!0},function(){app.delete("/api/user/"+app.getPathPart(window.location.href,1)+"/role/"+t,function(){n(i)})})},showAddRole:function(){$("#add-role").modal("show");$(".select2").select2({minimumResultsForSearch:Infinity})},addRole:function(){let i=this,t=$(".select2").val();t?app.post("/api/user/"+app.getPathPart(window.location.href,1)+"/role/"+t,null,function(){n(i)}):swal("错误","请选择角色","error")}}})});