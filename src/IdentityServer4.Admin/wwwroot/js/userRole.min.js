$(function(){function n(n){let t="/api/user/"+app.getPathPart(window.location.href,1)+"/role";app.get(t,function(t){n.$data.els=t.data});app.get("/api/role?page=1&size=1000",function(t){n.$data.roles=t.data.result;n.$data.role=n.$data.roles[0].id})}$("#user").addClass("active");new Vue({el:"#view",data:{els:[],roles:[],role:""},mounted:function(){n(this)},methods:{remove:function(t){let i=this;swal({title:"确定要删除此角色吗?",type:"warning",showCancelButton:!0},function(){app.delete("/api/user/"+app.getPathPart(window.location.href,1)+"/role/"+t,function(){n(i)})})},showAddRole:function(){$("#add-role").modal("show");$(".select2").select2({minimumResultsForSearch:Infinity})},addRole:function(){let t=this;app.post("/api/user/"+app.getPathPart(window.location.href,1)+"/role/"+$(".select2").val(),null,function(){n(t)})}}})});