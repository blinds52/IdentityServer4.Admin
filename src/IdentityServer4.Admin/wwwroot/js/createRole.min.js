$(function(){new Vue({el:"#view",data:{activeMenu:"角色管理",menus:menus,module:"创建角色",moduleDescription:"",breadcrumb:[{name:"角色管理",href:"/role"},{name:"创建",href:"#"}],el:{name:"",description:""},errors:[]},methods:{checkRole:function(){return this.errors=[],app.requireCheck(this.el.name)?app.rangeCheck(this.el.name.length,4,30)||this.errors.push("角色名长度范围为 4-30"):this.errors.push("角色名不能为空"),app.requireCheck(this.el.description)&&(app.maxCheck(this.el.description.length,1e3)||this.errors.push("角色描述不能超过 1000 字符")),!this.errors.length},create:function(){this.checkRole()&&app.post("/api/role",this.$data.el,function(){window.location.href="/role"})}}})});