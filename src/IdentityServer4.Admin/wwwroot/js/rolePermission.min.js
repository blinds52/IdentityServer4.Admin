$(function(){function n(n){let t="/api/role/"+app.getPathPart(window.location.href,1)+"/permission";app.get(t,function(t){n.$data.els=t.data.result});app.get("/api/permission?page=1&size=1000",function(t){n.$data.permissions=t.data.result;t.data.result.length>0&&$(".select2").val(t.data.result[0].permissionId)})}$("#role").addClass("active");new Vue({el:"#view",data:{els:[],permissions:[]},mounted:function(){n(this)},methods:{remove:function(t){let i=this;swal({title:"确定要删除此权限吗?",type:"warning",showCancelButton:!0},function(){app.delete("/api/role/"+app.getPathPart(window.location.href,1)+"/permission/"+t,function(){n(i)})})},showAddPermission:function(){$("#add-role").modal("show");$(".select2").select2({minimumResultsForSearch:Infinity})},addPermission:function(){let t=this;app.post("/api/role/"+app.getPathPart(window.location.href,1)+"/permission/"+$(".select2").val(),null,function(){n(t)})}}})});