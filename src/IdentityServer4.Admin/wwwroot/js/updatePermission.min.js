$(function(){function n(n){const t="/api/permission/"+app.getPathPart(window.location.href,1);app.get(t,function(t){n.$data.name=t.data.name;n.$data.description=t.data.description})}new Vue({el:"#view",data:{activeMenu:"权限管理",menus:menus,module:"编辑权限",moduleDescription:"",breadcrumb:[{name:"权限管理",href:"/permission"},{name:"编辑",href:"#"}],el:{name:"",description:""},errors:[]},created:function(){n(this)},methods:{checkPermission:function(){return this.errors=[],app.requireCheck(this.el.name)?app.rangeCheck(this.el.name,4,30)||this.errors.push("权限名长度范围为 4-30"):this.errors.push("权限名不能为空"),app.requireCheck(this.el.description)&&(app.maxCheck(this.el.description,1e3)||this.errors.push("权限描述不能超过 1000 字符")),!this.errors.length},update:function(){this.checkPermission()&&app.put("/api/permission/"+app.getPathPart(window.location.href,1),this.$data,function(){swal({title:"更新成功",type:"success",showCancelButton:!1})},function(n){swal({title:"更新失败",type:"error",text:n.msg,showCancelButton:!0})})}}})});