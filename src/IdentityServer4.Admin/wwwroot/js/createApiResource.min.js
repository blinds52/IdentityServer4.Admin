$(function(){new Vue({el:"#view",data:{menus:menus,module:"API 资源",moduleDescription:"",breadcrumb:[{name:"API 资源",href:"/apiResource"},{name:"创建",href:"#"}],el:{name:"",displayName:"",description:"",enabled:!0,secrets:[],scopes:[],userClaims:""},scope:{name:"",displayName:"",description:"",required:!1,emphasize:!1,showInDiscoveryDocument:!0,userClaims:""},secret:{value:"",description:"",expiration:"",type:""}},created:function(){$(".select2").select2({minimumResultsForSearch:Infinity});$("#scopeRequired").val("False");$("#scopeEmphasize").val("False");$("#scopeSidd").val("True")},methods:{addSecret:function(){this.$data.el.secrets.push({value:this.$data.secret.value.trim(),description:this.$data.secret.description.trim(),expiration:this.$data.secret.expiration,type:this.$data.secret.type.trim()});this.$data.secret={}},removeSecret:function(n){for(let t=0;t<this.$data.el.secrets.length;++t)if(this.$data.el.secrets[t].value===n.value){this.$data.el.secrets.splice(t,1);return}},addScope:function(){this.$data.el.scopes.push({name:this.$data.scope.name.trim(),displayName:this.$data.scope.displayName.trim(),description:this.$data.scope.description.trim(),required:$("#scopeRequired").val(),emphasize:$("#scopeEmphasize").val(),showInDiscoveryDocument:$("#scopeSidd").val(),userClaims:this.$data.scope.userClaims.trim().split(";")});this.$data.scope={}},removeScope:function(n){for(let t=0;t<this.$data.el.scopes.length;++t)if(this.$data.el.scopes[t].name===n.name){this.$data.el.scopes.splice(t,1);return}},create:function(){const n=this.$data.el;n.userClaims=n.userClaims.split(";");app.post("/api/apiResource",n,function(){window.location.href="/apiResource"})}}})});